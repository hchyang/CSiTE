This module is called CapGem, because it combines the function of both [CapSim](https://github.com/Devika1/capsim
) and [GemSim](https://sourceforge.net/projects/gemsim/).
This module is a revision to [Japsa](http://japsa.readthedocs.org/en/latest/index.html).


#### Original Japsa
Japsa is a Java Package for Sequence Analysis. As the name implies, Japsa was
written primarily in Java. It contains a large number of ready to run programs
as well as a Java API. Please note that from our newest versions, it is required
Java 8 to compile and run from the source code. Prebuilt releases would need
JVM 1.8.0_144 or newer to run properly.

Japsa is released under the accompanying BSD-like license.


#### Revisions
Only code related to CapSim are extracted to obtain fragments rather than short reads.

Script "frag2read.py" can then be used to simulate short reads from fragments generated by CapSim.
This script is based on GemReads.py from GemSim.
In particular, it is based on script "\_\_sub_wessim2.py" from [Wessim](http://sak042.github.io/Wessim/).


#### Install
CapGem requires a Java Runtime Environment (Java Runtime Environment >=1.7).

To install CapSim, one can go to the folder containing the source code (PSiTE/wes/capgem) and then run `make`.  
A sample command is:  `make install INSTALL_DIR=./ MXMEM=8000m SERVER=true`.  
If INSTALL_DIR is specified to be a directory other than ‘./’, this directory should be added to environment variable PATH.   
In case the memory for Java virtual machine is not enough, users can set the maximum memory by adding
export \_JAVA\_OPTIONS="-Xmx8g" in the .bashrc file in the home directory of the computer.

Several additional packages are required to use CapGem for simulation, including:
	* bowtie2-build, bowtie2 (http://bowtie-bio.sourceforge.net/bowtie2/index.shtml)
	* samtools (http://samtools.sourceforge.net/, version >= 1.5)

The used version of samtools *does not accept* the previous less flexible way of specifying the final and temporary output filenames (
`samtools sort [-nof] [-m maxMem] in.bam out.prefix`).
